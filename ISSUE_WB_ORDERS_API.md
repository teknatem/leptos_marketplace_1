# โ๏ธ ะะะะะะะะ: Wildberries Orders API Endpoint

## โ๏ธ API endpoint ะผะพะถะตั ะฝะต ัััะตััะฒะพะฒะฐัั

**ะขะตะบััะฐั ัะธััะฐัะธั:**

- API endpoint `/api/v1/supplier/orders` **ะผะพะถะตั ะฝะต ัััะตััะฒะพะฒะฐัั** ะฒ Wildberries Statistics API
- ะัะธ ะฟะพะฟััะบะต ะธะผะฟะพััะฐ ะฒะพะทะฝะธะบะฐะตั **ัะฐะนะผะฐัั (60 ัะตะบัะฝะด)**
- ะะผะฟะพัั ัะตะฟะตัั **ะฟัะพะดะพะปะถะฐะตััั** ั ะฟัะตะดัะฟัะตะถะดะตะฝะธะตะผ, ะฝะต ะพััะฐะฝะฐะฒะปะธะฒะฐั ะทะฐะณััะทะบั ะพััะฐะปัะฝัั ะดะฐะฝะฝัั

**๐ก ะะะะะะะะะะฆะะฏ:**

- โ **ะัะบะปััะธัะต** ัะตะบะฑะพะบั "a015_wb_orders" ะฒ u504 UI
- โ ะัะฟะพะปัะทัะนัะต **a012_wb_sales (ะัะพะดะฐะถะธ)** ะบะฐะบ ะธััะพัะฝะธะบ ะดะฐะฝะฝัั ะพ ะทะฐะบะฐะทะฐั
- โ ะะผะฟะพััะธััะนัะต ัะพะปัะบะพ: ัะพะฒะฐัั (a007), ะฟัะพะดะฐะถะธ (a012), ัะธะฝะฐะฝัั (p903)

---

## ะััะพัะธั ะฟัะพะฑะปะตะผั

**ะััะพะดะฝะฐั ะพัะธะฑะบะฐ:**

```
Import failed: error sending request for url
(https://statistics-api.wildberries.ru/api/v1/supplier/orders?dateFrom=2025-10-01&dateTo=2025-10-04&flag=0)
```

### ะงัะพ ะฑัะปะพ ะฝะต ัะฐะบ โ

1. **ะะตะฟัะฐะฒะธะปัะฝัะน ัะพัะผะฐั ะดะฐัั**: ะธัะฟะพะปัะทะพะฒะฐะปัั `YYYY-MM-DD` ะฒะผะตััะพ RFC3339
2. **ะะธัะฝะธะน ะฟะฐัะฐะผะตัั `dateTo`**: API ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตั ะดะธะฐะฟะฐะทะพะฝ ะดะฐั ะฒ ะพะดะฝะพะผ ะทะฐะฟัะพัะต
3. **ะะตะฟัะฐะฒะธะปัะฝะฐั ะฟะฐะณะธะฝะฐัะธั**: ะธัะฟะพะปัะทะพะฒะฐะปัั `flag=0` ะฒะผะตััะพ ะธัะตัะฐัะธะธ ะฟะพ ะดะฐัะฐะผ

### ะงัะพ ะธัะฟัะฐะฒะปะตะฝะพ โ

1. โ **RFC3339 ัะพัะผะฐั**: `2025-10-01T00:00:00` ะฒะผะตััะพ `2025-10-01`
2. โ **ะฃะฑัะฐะฝ `dateTo`**: ัะตะฟะตัั ะธัะฟะพะปัะทัะตััั ัะพะปัะบะพ `dateFrom`
3. โ **ะัะตัะฐัะธั ะฟะพ ะดะฐัะฐะผ**: ะทะฐะฟัะพั ะดะตะปะฐะตััั ะดะปั ะบะฐะถะดะพะน ะดะฐัั ั `flag=1`
4. โ **ะะตัะฐะปัะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต**: ัะตะฟะตัั ะฒะธะดะฝะพ ะฟัะพะณัะตัั ะฟะพ ะบะฐะถะดะพะน ะดะฐัะต

## ะะฐะบ ัะฐะฑะพัะฐะตั API ะทะฐะบะฐะทะพะฒ

### ะะฐัะฐะผะตััั ะทะฐะฟัะพัะฐ

**dateFrom** (ะพะฑัะทะฐัะตะปัะฝัะน):

- ะคะพัะผะฐั: RFC3339 (`2025-10-01T00:00:00`)
- ะะฟะธัะฐะฝะธะต: ะดะฐัะฐ ะฟะพัะปะตะดะฝะตะณะพ ะธะทะผะตะฝะตะฝะธั ะทะฐะบะฐะทะฐ
- ะงะฐัะพะฒะพะน ะฟะพัั: ะะพัะบะฒะฐ (UTC+3)

**flag** (ะพะฟัะธะพะฝะฐะปัะฝัะน):

- `flag=0` (ะฟะพ ัะผะพะปัะฐะฝะธั): ะฒะพะทะฒัะฐัะฐะตั ะทะฐะฟะธัะธ ะณะดะต `lastChangeDate >= dateFrom` (ะดะพ ~100k)
- `flag=1`: ะฒะพะทะฒัะฐัะฐะตั ะะกะ ะทะฐะบะฐะทั ะทะฐ ะดะฐัั `dateFrom` (ะธะณะฝะพัะธััะตั ะฒัะตะผั)

### ะะพะฒะฐั ะปะพะณะธะบะฐ ะทะฐะณััะทะบะธ

ะะปั ะฟะตัะธะพะดะฐ `2025-10-01` โ `2025-10-04`:

```
Day 1: GET /api/v1/supplier/orders?dateFrom=2025-10-01T00:00:00&flag=1
Day 2: GET /api/v1/supplier/orders?dateFrom=2025-10-02T00:00:00&flag=1
Day 3: GET /api/v1/supplier/orders?dateFrom=2025-10-03T00:00:00&flag=1
Day 4: GET /api/v1/supplier/orders?dateFrom=2025-10-04T00:00:00&flag=1
```

### ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

- โ ะัะปะธ ะดะปั ะดะฐัั ะฝะตั ะดะฐะฝะฝัั (404) โ ะฟัะพะฟััะบะฐะตััั, ะทะฐะณััะทะบะฐ ะฟัะพะดะพะปะถะฐะตััั
- โ ะะฐะดะตัะถะบะฐ 200ms ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ ะดะปั ัะฝะธะถะตะฝะธั ะฝะฐะณััะทะบะธ
- โ ะะพะดัะพะฑะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต ะบะฐะถะดะพะณะพ ะทะฐะฟัะพัะฐ

## ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั

### 1. ะะฐะฟัััะธัั ะธะผะฟะพัั ะทะฐะบะฐะทะพะฒ

1. ะัะบัะพะนัะต **u504: ะะผะฟะพัั ะธะท Wildberries**
2. ะัะฑะตัะธัะต ะฟะพะดะบะปััะตะฝะธะต ะบ WB
3. ะฃะบะฐะถะธัะต ะฟะตัะธะพะด ะดะฐั
4. โ ะะบะปััะธัะต ะณะฐะปะพัะบั **"a015_wb_orders - ะะฐะบะฐะทั Wildberries"**
5. ะะฐะถะผะธัะต **"ะะฐะฟัััะธัั ะธะผะฟะพัั"**

### 2. ะะพะฝะธัะพัะธะฝะณ ะฟัะพะณัะตััะฐ

ะ ะปะพะณะฐั ะฒั ัะฒะธะดะธัะต:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ WILDBERRIES ORDERS API - LOADING ALL RECORDS
โ Period: 2025-10-01 to 2025-10-04
โ API URL: https://statistics-api.wildberries.ru/api/v1/supplier/orders
โ Method: Iterate by date with flag=1 (all orders per day)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Day 1: 2025-10-01 (flag=1 - all orders for this date)
โ Received: 150 orders for 2025-10-01
โ Total so far: 150 records
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
...
```

### 3. ะัะพัะผะพัั ะทะฐะณััะถะตะฝะฝัั ะทะฐะบะฐะทะพะฒ

1. ะัะบัะพะนัะต ะฑะพะบะพะฒะพะต ะผะตะฝั
2. ะ ัะฐะทะดะตะปะต **"ะะพะบัะผะตะฝัั"** ะฒัะฑะตัะธัะต **"WB Orders"**
3. ะััะธะปััััะนัะต ะฟะพ ะพัะณะฐะฝะธะทะฐัะธะธ, ะดะฐัะต, ะฐััะธะบัะปั
4. ะะปะธะบะฝะธัะต ะฝะฐ ะทะฐะบะฐะท ะดะปั ะฟัะพัะผะพััะฐ ะดะตัะฐะปะตะน

## ะัะปะธ ะฒัะต ะตัะต ะฝะต ัะฐะฑะพัะฐะตั

### ะัะพะฒะตัััะต ะฟัะฐะฒะฐ API ะบะปััะฐ

API ะบะปัั ะดะพะปะถะตะฝ ะธะผะตัั ะดะพัััะฟ ะบ Statistics API:

1. ะะฐะนะดะธัะต ะฒ ะปะธัะฝัะน ะบะฐะฑะธะฝะตั Wildberries
2. ะะฐัััะพะนะบะธ โ API โ ะกัะฐัะธััะธะบะฐ
3. ะฃะฑะตะดะธัะตัั ััะพ ะบะปัั ะฐะบัะธะฒะตะฝ ะธ ะธะผะตะตั ะฟัะฐะฒะฐ ะฝะฐ "ะะฐะบะฐะทั"

### ะัะพะฒะตัััะต ะปะพะณะธ

ะัะต ะทะฐะฟัะพัั ัะพััะฐะฝััััั ะฒ:

```
wildberries_api_requests.log
```

ะะฐะนะดะธัะต ัะตะบัะธั `WILDBERRIES ORDERS API` ะดะปั ะดะธะฐะณะฝะพััะธะบะธ.

## ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั

### ะงัะพ ัะฐะฑะพัะฐะตั ัะตะนัะฐั โ

- โ **a007** - ะขะพะฒะฐัั ะผะฐัะบะตัะฟะปะตะนัะฐ (`/content/v2/get/cards/list`)
- โ **a012** - ะัะพะดะฐะถะธ WB (`/api/v1/supplier/sales`)
- โ **p903** - ะคะธะฝะฐะฝัะพะฒัะต ะพััะตัั (`/api/v5/supplier/reportDetailByPeriod`)
- โ๏ธ **a015** - ะะฐะบะฐะทั WB (`/api/v1/supplier/orders`) - **API ะผะพะถะตั ะฑััั ะฝะตะดะพัััะฟะตะฝ**
  - ะัะธ ัะฐะนะผะฐััะต ะธะผะฟะพัั ะฟัะพะดะพะปะถะฐะตััั
  - ะะตะบะพะผะตะฝะดัะตััั ะพัะบะปััะธัั ะฒ UI

## ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ ะธัะฟัะฐะฒะปะตะฝะธั

### ะัะปะพ (ะฝะตะฟัะฐะฒะธะปัะฝะพ):

```rust
// ะะตะฟัะฐะฒะธะปัะฝัะต ะฟะฐัะฐะผะตััั
let url = format!("{}?dateFrom={}&dateTo={}&flag=0",
    url, date_from_str, date_to_str);
// dateFrom ะฒ ัะพัะผะฐัะต YYYY-MM-DD
// ะะธัะฝะธะน ะฟะฐัะฐะผะตัั dateTo
// flag=0 ะฒะผะตััะพ flag=1
```

### ะกัะฐะปะพ (ะฟัะฐะฒะธะปัะฝะพ):

```rust
// ะัะตัะฐัะธั ะฟะพ ะบะฐะถะดะพะน ะดะฐัะต
for date in date_from..=date_to {
    let date_from_rfc3339 = format!("{}T00:00:00", date.format("%Y-%m-%d"));
    let url = format!("{}?dateFrom={}&flag=1", url, date_from_rfc3339);
    // RFC3339 ัะพัะผะฐั
    // ะขะพะปัะบะพ dateFrom
    // flag=1 ะดะปั ะฒัะตั ะทะฐะบะฐะทะพะฒ ะทะฐ ะดะฐัั
}
```

### ะัะตะธะผััะตััะฒะฐ ะฝะพะฒะพะน ัะตะฐะปะธะทะฐัะธะธ:

1. โ **ะัะฐะฒะธะปัะฝัะน ัะพัะผะฐั**: RFC3339 ัะพะณะปะฐัะฝะพ ะดะพะบัะผะตะฝัะฐัะธะธ
2. โ **ะะพะปะฝะฐั ะฒัะณััะทะบะฐ**: `flag=1` ะณะฐัะฐะฝัะธััะตั ะฒัะต ะทะฐะบะฐะทั ะทะฐ ะดะฐัั
3. โ **ะฃััะพะนัะธะฒะพััั**: ะฟัะพะฟััะบ ะดะฐั ะฑะตะท ะดะฐะฝะฝัั (404)
4. โ **ะะตัะฐะปัะฝัะน ะฟัะพะณัะตัั**: ะฒะธะดะฝะพ ะทะฐะณััะทะบั ะฟะพ ะบะฐะถะดะพะน ะดะฐัะต
5. โ **Throttling**: ะทะฐะดะตัะถะบะฐ 200ms ะผะตะถะดั ะทะฐะฟัะพัะฐะผะธ

## Changelog

**v1.3** - ะฃะปัััะตะฝะฐ ะพะฑัะฐะฑะพัะบะฐ ัะฐะนะผะฐััะฐ ะธ ะฝะตะดะพัััะฟะฝะพััะธ API:

- โ ะฃะฒะตะปะธัะตะฝ ัะฐะนะผะฐัั HTTP ะบะปะธะตะฝัะฐ ั 30 ะดะพ 60 ัะตะบัะฝะด
- โ ะะผะฟะพัั ะฝะต ะพััะฐะฝะฐะฒะปะธะฒะฐะตััั ะตัะปะธ Orders API ะฝะตะดะพัััะฟะตะฝ
- โ ะัะธ ัะฐะนะผะฐััะต Orders API ะฟัะพะดะพะปะถะฐะตััั ะธะผะฟะพัั ัะพะฒะฐัะพะฒ, ะฟัะพะดะฐะถ ะธ ัะธะฝะฐะฝัะพะฒ
- โ ะะพะฑะฐะฒะปะตะฝั ะธะฝัะพัะผะฐัะธะฒะฝัะต ัะพะพะฑัะตะฝะธั ั ัะตะบะพะผะตะฝะดะฐัะธัะผะธ
- โ๏ธ **ะะะะะ**: API endpoint `/api/v1/supplier/orders` ะผะพะถะตั ะฝะต ัััะตััะฒะพะฒะฐัั ะฒ WB API
- ๐ก **ะะะะะะะะะะฆะะฏ**: ะัะบะปััะธัะต ะธะผะฟะพัั ะทะฐะบะฐะทะพะฒ (a015) ะธ ะธัะฟะพะปัะทัะนัะต Sales API (a012)

**v1.2** - ะัะฟัะฐะฒะปะตะฝะฐ ะฟัะพะฑะปะตะผะฐ ั UTF-8:

- โ ะัะฟัะฐะฒะปะตะฝะฐ ะพัะธะฑะบะฐ `byte index 5000 is not a char boundary`
- โ ะะทะผะตะฝะตะฝ ััะตะท ัััะพะบะธ JSON ั `&body[..5000]` ะฝะฐ `body.chars().take(5000)`
- โ ะขะตะฟะตัั ะบะพััะตะบัะฝะพ ะพะฑัะฐะฑะฐััะฒะฐัััั ะผะฝะพะณะพะฑะฐะนัะพะฒัะต UTF-8 ัะธะผะฒะพะปั (ะบะธัะธะปะปะธัะฐ)

**v1.1** - ะะกะะะะะะะะ ัะพะณะปะฐัะฝะพ ะดะพะบัะผะตะฝัะฐัะธะธ WB API:

- โ ะคะพัะผะฐั ะดะฐัั ะธะทะผะตะฝะตะฝ ะฝะฐ RFC3339
- โ ะฃะฑัะฐะฝ ะฝะตะฟะพะดะดะตัะถะธะฒะฐะตะผัะน ะฟะฐัะฐะผะตัั `dateTo`
- โ ะะทะผะตะฝะตะฝะฐ ะปะพะณะธะบะฐ ะฝะฐ ะธัะตัะฐัะธั ะฟะพ ะดะฐัะฐะผ ั `flag=1`
- โ ะะพะฑะฐะฒะปะตะฝะฐ ะพะฑัะฐะฑะพัะบะฐ 404 ะดะปั ะดะฐั ะฑะตะท ะดะฐะฝะฝัั
- โ ะฃะปัััะตะฝะพ ะปะพะณะธัะพะฒะฐะฝะธะต ะฟัะพะณัะตััะฐ

**v1.0** - ะะตัะฒะพะฝะฐัะฐะปัะฝะฐั ัะตะฐะปะธะทะฐัะธั (ะฝะต ัะฐะฑะพัะฐะปะฐ)

---

**ะะฑะฝะพะฒะปะตะฝะพ**: ะะพะด ะธัะฟัะฐะฒะปะตะฝ ัะพะณะปะฐัะฝะพ ะพัะธัะธะฐะปัะฝะพะน ะดะพะบัะผะตะฝัะฐัะธะธ Wildberries Statistics API.
