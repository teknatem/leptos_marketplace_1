# Исправление наползания filter-tags на фильтры

**Дата:** 2024-12-21  
**Статус:** ✅ Исправлено

---

## Проблема

`<div class="filter-tags">` (теги активных фильтров) наползал на инпуты фильтров из-за отсутствия отступа сверху.

### Структура HTML:

```html
<div class="filter-panel-content">
  <Flex align="FlexAlign::End">
    <!-- DateRangePicker, Inputs, Select, Button -->
  </Flex>

  <div class="filter-tags">
    <!-- Теги фильтров: "От: 2024-01-01" и т.д. -->
  </div>
</div>
```

**Проблема:** `filter-tags` находится сразу после `Flex` без отступа, что приводит к наложению.

---

## Решение

### Добавлен `margin-top` для `.filter-tags`

**Файл:** `crates/frontend/static/themes/core/layout.css`

**Было (строки 812-817):**

```css
.filter-tags {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}
```

**Стало:**

```css
.filter-tags {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  flex-wrap: wrap;
  margin-top: var(--spacing-md); /* ← Добавлено */
}
```

---

## Результат

### До:

```
┌────────────────────────────────────────┐
│ [Период] [Return ID] [Order ID] [Тип] │
│ [От: 2024-01-01] [До: 2024-01-31]     │ ← Наползают
└────────────────────────────────────────┘
```

### После:

```
┌────────────────────────────────────────┐
│ [Период] [Return ID] [Order ID] [Тип] │
│                                        │ ← Отступ
│ [От: 2024-01-01] [До: 2024-01-31]     │
└────────────────────────────────────────┘
```

---

## Технические детали

### CSS переменная `--spacing-md`

Использована стандартная переменная из темы:

```css
:root {
  --spacing-sm: 8px;
  --spacing-md: 12px; /* ← Используется для отступа */
  --spacing-lg: 16px;
}
```

### Почему `margin-top`, а не `padding`?

- `margin-top` создаёт внешний отступ между элементами
- `padding` добавил бы внутренний отступ внутри `filter-tags`
- Для разделения двух блоков подходит именно `margin-top`

---

## Тестирование

Откройте страницу: `http://127.0.0.1:8080/?active=a016_ym_returns`

**Проверьте:**

1. Добавьте фильтры (выберите период, введите Return ID)
2. Убедитесь, что теги фильтров появляются **под** инпутами
3. Проверьте, что есть визуальный отступ (~12px) между фильтрами и тегами
4. Теги должны располагаться в одну строку с переносом при необходимости

---

## Изменённые файлы

**`crates/frontend/static/themes/core/layout.css`** (строка 817)

- Добавлен `margin-top: var(--spacing-md);` для `.filter-tags`

---

## Дополнительные замечания

### Адаптивность

`flex-wrap: wrap` обеспечивает перенос тегов на новую строку при узких экранах.

### Согласованность

Используется стандартная CSS переменная из темы для консистентности отступов во всём приложении.

---

**Исправление завершено! Теги фильтров больше не наползают на инпуты.**
