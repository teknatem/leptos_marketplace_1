# Leptos Marketplace - Project Brief

## Цель проекта

Создать систему управления маркетплейсами на базе локального веб-приложения (self-hosted) с интеграцией 1С:Управление торговлей 11, Wildberries и Ozon на стеке Rust full-stack (Leptos + Axum).

## Проблема, которую решаем

Компании, работающие с маркетплейсами и использующие 1С:УТ11, сталкиваются с проблемами:

- Ручная синхронизация данных между системами
- Отсутствие единого view на продажи и комиссии маркетплейсов
- Сложность аналитики по множественным каналам продаж
- Необходимость держать данные в разных системах

## Решение

Единое приложение, которое:

1. **Импортирует** справочники из 1С:УТ11 через OData
2. **Интегрируется** с API маркетплейсов (Wildberries, Ozon, Яндекс.Маркет, LemanaPro)
3. **Синхронизирует** товары, заказы, продажи, финансовые отчеты
4. **Агрегирует** данные для аналитики и отчетности
5. **Предоставляет** удобный веб-интерфейс для работы

## Ключевые функции

### Aggregates (a001-a499)

- **a001**: Подключения к 1С
- **a002**: Организации
- **a003**: Контрагенты
- **a004**: Номенклатура
- **a005**: Маркетплейсы
- **a006**: Подключения к маркетплейсам
- **a007**: Продукты маркетплейсов
- **a008**: Продажи маркетплейсов
- **a009**: Возвраты Ozon
- **a010**: FBS отгрузки Ozon
- **a011**: FBO отгрузки Ozon
- **a012**: Продажи Wildberries
- **a013**: Заказы Яндекс.Маркет
- **a014**: Транзакции Ozon
- **a015**: Заказы Wildberries
- **a016**: Возвраты Яндекс.Маркет
- **a017**: LLM-агенты
- **a018**: LLM-чаты
- **a019**: LLM-артефакты
- **a020**: WB-продвижение (акции)

### UseCases (u501-u999)

- **u501**: Импорт справочников из 1С:УТ11
- **u502**: Импорт данных из Ozon
- **u503**: Импорт данных из Яндекс.Маркет
- **u504**: Импорт данных из Wildberries
- **u505**: Сопоставление номенклатуры
- **u506**: Интеграция с LemanaPro

### Projections (p900-p999)

- **p900**: Регистр продаж маркетплейсов
- **p901**: Штрих-коды номенклатуры
- **p902**: Финансовая реализация Ozon
- **p903**: Финансовый отчет Wildberries
- **p904**: Аналитика продаж
- **p905**: История комиссий Wildberries
- **p906**: Цены номенклатуры
- **p907**: Товары WB и цены (p908)

## Целевая аудитория

- Малый/средний бизнес, работающий с маркетплейсами
- Использующие 1С:Управление торговлей 11
- Нужен единый инструмент для управления и аналитики

## Ограничения и контекст

- **Self-hosted**: Локальный запуск (не SaaS), веб-интерфейс через браузер
- **SQLite**: Не требует внешней БД, все в одном файле
- **Windows 11**: Основная платформа разработки и использования
- **Multi-user**: Поддержка нескольких пользователей с JWT авторизацией
- **Offline-capable**: Может работать без постоянного подключения к 1С
