# Active Context

_–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-12-22_

## üéØ –¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏ 1–°, Ozon, Wildberries –∏ –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç.

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

- ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏ –∞–∫—Ç–∏–≤–Ω—ã (1–°, Ozon, Wildberries, –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç, LemanaPro)
- ‚úÖ UI –Ω–∞ –±–∞–∑–µ Thaw UI 0.5.0-beta + Leptos 0.8
- ‚úÖ 16 aggregates, 6 usecases, 7 projections –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- üîÑ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ UX –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìù –ù–µ–¥–∞–≤–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–µ—Å—Å–∏–∏)

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–∞–±–æ—Ç—ã (–¥–µ–∫–∞–±—Ä—å 2025)

- **–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Thaw UI 0.5.0-beta**
  - –ü–µ—Ä–µ—Ö–æ–¥ —Å –Ω–∞—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ Thaw
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º (light/dark/forest)
  - ConfigProvider –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ Leptos Signal**
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ bug —Å –ø–µ—Ä–µ–¥–∞—á–µ–π Signal –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Effect –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å editing_id —Å–∏–≥–Ω–∞–ª–∞–º–∏
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Ç–∞–±–ª–∏—Ü**
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤ Thaw Table –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  - Sort icons —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏
  - Event propagation –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–£–ª—É—á—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å Thaw Table –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏**
  - –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (Thaw + native HTML tables)
  - State management —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–µ state.rs —Ñ–∞–π–ª—ã
  - –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç**
  - u503_import_from_yandex usecase
  - a013_ym_order –∏ a016_ym_returns aggregates
  - API client –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Memory Bank –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
  - –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π (Leptos 0.8, Thaw UI)
  - –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å–ø–∏—Å–∫–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ

- –î–∞–ª—å–Ω–µ–π—à–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ UX –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç–∞–±–ª–∏—Ü
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö (Excel, CSV)
- –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –¥–∞—à–±–æ—Ä–¥—ã

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ

- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## ü§î –ê–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- ‚úÖ **State management**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö state.rs —Ñ–∞–π–ª–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- ‚úÖ **List utilities**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ shared/list_utils.rs
- ‚úÖ **Hybrid tables**: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ Thaw Table + native HTML tables
- ‚úÖ **Signal reactivity**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Signal –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –¢–µ–∫—É—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

- Effect –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
- Programmatic CSS modification –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ Thaw
- State persistence —á–µ—Ä–µ–∑ localStorage
- Sortable trait –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã

- –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–ª–æ–∫–µ—Ä–æ–≤
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

## üìö –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è AI

### –ß—Ç–æ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

- **–í–µ—Ä—Å–∏–∏**: Leptos 0.8, Thaw UI 0.5.0-beta, Axum 0.7, Sea-ORM 0.12
- **–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: a001-a016 (aggregates), u501-u506 (usecases), p900-p906 (projections)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: DDD + VSA —Å —Ç—Ä–µ–º—è –∫—Ä–µ–π—Ç–∞–º–∏ (contracts, backend, frontend)
- **–û–∫—Ä—É–∂–µ–Ω–∏–µ**: Windows 11, PowerShell (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å &&), pnpm –¥–ª—è Node.js
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (marketplace.db)
- **UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**: Thaw UI 0.5.0-beta —Å –≥–∏–±—Ä–∏–¥–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –∫ —Ç–∞–±–ª–∏—Ü–∞–º

### –ù–µ–¥–∞–≤–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (–¥–µ–∫–∞–±—Ä—å 2025)

- **Signal parameters**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `#[prop(into)] id: Signal<T>` –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **State.rs files**: –û—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è state management –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Thaw + Native**: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Ç–∞–±–ª–∏—Ü–∞–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- **Effect usage**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —á–µ—Ä–µ–∑ Effect::new
- **CSS Variables**: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è Thaw —Å—Ç–∏–ª–µ–π —á–µ—Ä–µ–∑ DOM API

### –í–∞–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏

- `memory-bank/debriefs/` - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –Ω–µ–¥–∞–≤–Ω–∏—Ö —Å–µ—Å—Å–∏–π
- `memory-bank/runbooks/` - –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (Thaw migration, table sorting)
- `memory-bank/lessons/` - –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ —É—Ä–æ–∫–∏ (Signal vs Value, CSS timing)
- `memory-bank/known-issues/` - –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (Thaw table limitations)

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `projectbrief.md` - –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `systemPatterns.md` - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- `progress.md` - –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- `architecture/domain-layer-architecture.md` - –î–µ—Ç–∞–ª–∏ domain layer
- `architecture/naming-conventions.md` - –°–∏—Å—Ç–µ–º–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
