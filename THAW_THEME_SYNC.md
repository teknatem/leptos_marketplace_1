# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–µ–º Thaw UI —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Ç–µ–º

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Thaw —Ç–µ–º–æ–π

**–§–∞–π–ª:** `crates/frontend/src/app.rs`

–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç `ThawThemeContext`:

```rust
#[derive(Clone, Copy)]
pub struct ThawThemeContext(pub RwSignal<Theme>);
```

–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º.

### 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º

**–§–∞–π–ª:** `crates/frontend/src/shared/theme/theme_select.rs`

–ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–µ–º—ã –≤ UI —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏ Thaw UI —Ç–µ–º–∞:

| –¢–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è     | Thaw UI —Ç–µ–º–∞     | –û–ø–∏—Å–∞–Ω–∏–µ                                |
| ------------------- | ---------------- | --------------------------------------- |
| **–°–≤–µ—Ç–ª–∞—è**         | `Theme::light()` | –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –¥–ª—è –æ–±–æ–∏—Ö                  |
| **–¢–µ–º–Ω–∞—è**          | `Theme::dark()`  | –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –æ–±–æ–∏—Ö                   |
| **–õ–µ—Å–Ω–∞—è** (forest) | `Theme::dark()`  | –õ–µ—Å–Ω–∞—è —Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–º–Ω—É—é Thaw —Ç–µ–º—É |

### 3. –£–ª—É—á—à–µ–Ω UI –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —Ç–µ–º

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- ‚ùå –£–±—Ä–∞–Ω —Ç–µ–∫—Å—Ç "–¢–µ–º–∞" –∏–∑ –∫–Ω–æ–ø–∫–∏
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –∏–∫–æ–Ω–∫–∞ –ø–∞–ª–∏—Ç—Ä—ã
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω tooltip "–í—ã–±–æ—Ä —Ç–µ–º—ã"
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∏–ª—å `top-header__icon-button` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è

**–ë—ã–ª–æ:**

```rust
<button class="button button--ghost button--smallall">
    <svg>...</svg>
    "–¢–µ–º–∞"
</button>
```

**–°—Ç–∞–ª–æ:**

```rust
<button class="top-header__icon-button" title="–í—ã–±–æ—Ä —Ç–µ–º—ã">
    <svg>...</svg>  // –∏–∫–æ–Ω–∫–∞ –ø–∞–ª–∏—Ç—Ä—ã
</button>
```

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
flowchart TD
    App[App Component] -->|provides| ThawCtx[ThawThemeContext]
    App -->|provides| ConfigProvider[ConfigProvider]

    ThemeSelect[ThemeSelect Component] -->|uses| ThawCtx
    ThemeSelect -->|updates CSS| AppTheme[App Theme CSS/light/dark/forest]
    ThemeSelect -->|updates| ThawTheme[Thaw Theme Signal]

    ThawTheme -->|propagates to| ConfigProvider
    ConfigProvider -->|styles| ThawComponents[All Thaw Components]

    User[User Click] -->|changes theme| ThemeSelect

    style ThawCtx fill:#e8f5e9
    style ThemeSelect fill:#fff3e0
    style ThawComponents fill:#e3f2fd
```

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç** –Ω–∞ –∏–∫–æ–Ω–∫—É –ø–∞–ª–∏—Ç—Ä—ã –≤ top header
2. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è dropdown** —Å 3 —Ç–µ–º–∞–º–∏
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–µ–º—É**
4. **ThemeSelect —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç**:
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç CSS —Ç–µ–º—É —á–µ—Ä–µ–∑ `apply_theme()`
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ localStorage —á–µ—Ä–µ–∑ `save_theme()`
   - –û–±–Ω–æ–≤–ª—è–µ—Ç Thaw —Ç–µ–º—É —á–µ—Ä–µ–∑ `ThawThemeContext`
5. **ConfigProvider –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å—Ç–∏–ª–∏ –∫–æ –≤—Å–µ–º Thaw –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

## üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–º—ã

–í—ã–±—Ä–∞–Ω–Ω–∞—è —Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage:

- **–ö–ª—é—á:** `app_theme`
- **–ó–Ω–∞—á–µ–Ω–∏—è:** `"light"`, `"dark"`, `"forest"`

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è —Ç–µ–º–∞ –∏–∑ localStorage
2. –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å Thaw UI

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Top Header

**–î–æ:**

```
[‚ò∞] [‚â°] [üîî] [‚öôÔ∏è] [üåô –¢–µ–º–∞‚ñº] [üë§ User] [‚Üí]
```

**–ü–æ—Å–ª–µ:**

```
[‚ò∞] [‚â°] [üîî] [‚öôÔ∏è] [üé®] [üë§ User] [‚Üí]
```

–ò–∫–æ–Ω–∫–∞ –ø–∞–ª–∏—Ç—Ä—ã —Ç–µ–ø–µ—Ä—å –±–µ–∑ —Ç–µ–∫—Å—Ç–∞, –∫–∞–∫ –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –≤ top header.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–¢–µ—Å—Ç Thaw UI" (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –¢–µ—Å—Ç Thaw UI)
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –ø–∞–ª–∏—Ç—Ä—ã –≤ top header
4. –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ —Ç–µ–º—ã:
   - **–°–≤–µ—Ç–ª–∞—è** ‚Üí –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Thaw –¥–æ–ª–∂–Ω—ã —Å—Ç–∞—Ç—å —Å–≤–µ—Ç–ª—ã–º–∏
   - **–¢–µ–º–Ω–∞—è** ‚Üí –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Thaw –¥–æ–ª–∂–Ω—ã —Å—Ç–∞—Ç—å —Ç–µ–º–Ω—ã–º–∏
   - **–õ–µ—Å–Ω–∞—è** ‚Üí –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Thaw –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è —Ç–µ–º–Ω—ã–º–∏

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

‚úÖ –ö–Ω–æ–ø–∫–∏ Thaw –º–µ–Ω—è—é—Ç —Ü–≤–µ—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–µ–º—ã  
‚úÖ Input –ø–æ–ª—è –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É  
‚úÖ Badge –∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ª–µ–¥—É—é—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–µ–º–µ  
‚úÖ –¢–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ç–µ–º–∞–º–∏

```rust
let thaw_theme = match app_theme.as_str() {
    "light" => Theme::light(),
    "dark" => Theme::dark(),
    "forest" => Theme::dark(), // forest ‚Üí dark –¥–ª—è Thaw
    _ => Theme::dark(),
};
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤–µ–∑–¥–µ

–ë–ª–∞–≥–æ–¥–∞—Ä—è `provide_context` –≤ `App`, –ª—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Thaw —Ç–µ–º–µ:

```rust
let thaw_ctx = use_context::<ThawThemeContext>();
if let Some(ctx) = thaw_ctx {
    ctx.0.set(Theme::light()); // –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–º—É
    let current = ctx.0.get(); // –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ç–µ–º—É
}
```

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —Ç–µ–º–∞–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é Thaw —Ç–µ–º—É –¥–ª—è "forest" –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–µ–º–Ω–æ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–º –≤ dropdown
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π –û–°

---

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 2025-12-20  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
